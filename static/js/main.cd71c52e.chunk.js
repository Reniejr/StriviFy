(this["webpackJsonpspotify-app"]=this["webpackJsonpspotify-app"]||[]).push([[0],{36:function(e,t,n){},42:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),c=n(18),a=n.n(c),s=(n(35),n(36),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,50)).then((function(t){var n=t.getCLS,r=t.getFID,o=t.getFCP,c=t.getLCP,a=t.getTTFB;n(e),r(e),o(e),c(e),a(e)}))}),i=n(9),u=n(10),l=n(8),d="SPOTIFY_TOKEN",p="CREATE_USER",j=n(29),b=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||u.d,g=Object(u.c)({spotify:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{token:null},t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case d:return Object(l.a)(Object(l.a)({},e),{},{token:r});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{userList:[]},t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case p:return Object(l.a)(Object(l.a)({},e),{},{userList:e.userList.concat(r)});default:return e}}}),f=Object(u.e)(g,b(Object(u.a)(j.a))),h=n(12),O=n(13),m=n(15),v=n(14),x=n(23),y=n(3),w=n(16),k=n.n(w),C=n(20),S=n(49),L="6cee7a5f42ec413c8af5c31b8038445e",_="".concat("https://accounts.spotify.com/authorize","?client_id=").concat(L,"&response_type=token&redirect_uri=").concat("http://localhost:3000/","&scope=").concat("user-read-private%20user-read-email%20user-top-read","&show_dialog=true"),I=function(){window.location.href=_},T=(n(42),n(2)),E=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(){var e;Object(h.a)(this,n);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).state={user:{username:"",password:""},toggle:!1,redirect:!1},e.toggle=function(){var t=!e.state.toggle;e.setState({toggle:!e.state.toggle}),t&&(e.remember(),console.log(localStorage.getItem("username")))},e.fillLogin=function(t){var n=Object(l.a)({},e.state.user);n[t.currentTarget.id]=t.currentTarget.value,e.setState({user:n})},e.login=Object(C.a)(k.a.mark((function t(){return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.props.spotify.token){t.next=4;break}e.setState({redirect:!0}),t.next=6;break;case 4:return t.next=6,I();case 6:case"end":return t.stop()}}),t)}))),e.remember=function(){localStorage.setItem("username",e.state.user.username),localStorage.setItem("password",e.state.user.password)},e}return Object(O.a)(n,[{key:"render",value:function(){var e=this;return this.state.redirect?Object(T.jsx)(y.a,{to:"/"}):Object(T.jsx)("div",{id:"login-page",children:Object(T.jsxs)(S.a,{children:[Object(T.jsxs)("header",{children:[Object(T.jsx)("img",{src:"./assets/spotify.png",alt:""}),Object(T.jsx)("span",{children:"Strivify"})]}),Object(T.jsx)("button",{id:"login-fb",children:"Log in with Facebook"}),Object(T.jsx)("div",{className:"separator",children:"Or"}),Object(T.jsx)("input",{type:"text",id:"username",placeholder:"Username",onChange:this.fillLogin}),Object(T.jsx)("input",{type:"password",id:"password",placeholder:"Password",onChange:this.fillLogin}),Object(T.jsxs)("div",{className:"remember",children:[Object(T.jsx)("span",{children:"Remember me"}),Object(T.jsx)("div",{className:"toggle-btn",style:{backgroundColor:this.state.toggle?"white":"#0d0d0d"},children:Object(T.jsx)("div",{className:"toggle",onClick:function(){return e.toggle()},style:this.state.toggle?{backgroundColor:"#0d0d0d",marginLeft:"50%"}:{backgroundColor:"white",marginLeft:""}})})]}),Object(T.jsx)("button",{id:"login",onClick:function(){return e.login()},children:"Log In"})]})})}}]),n}(r.PureComponent),P=Object(i.b)((function(e){return e}))(E),N=(n(45),function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(O.a)(n,[{key:"componentDidMount",value:function(){var e={username:localStorage.getItem("username"),password:localStorage.getItem("password")};0===this.props.user.userList.filter((function(t){return t.username===e.username})).length&&null!==e.username&&this.props.createUser(e),console.log(e)}},{key:"render",value:function(){return Object(T.jsx)("div",{id:"home-page",children:null===this.props.spotify.token?Object(T.jsx)(P,{}):Object(T.jsx)("p",{children:"Connected"})})}}]),n}(r.PureComponent)),F=Object(i.b)((function(e){return e}),(function(e){return{createUser:function(t){return e(function(e){return{type:p,payload:{username:e.username,password:e.password}}}(t))}}}))(N),U=(n(46),window.location.hash.substring(1).split("&").reduce((function(e,t){if(t){var n=t.split("=");e[n[0]]=decodeURIComponent(n[1])}return e}),{}).access_token);window.location.hash="";var D=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(O.a)(n,[{key:"componentDidMount",value:function(){U&&this.props.setToken(U)}},{key:"render",value:function(){return Object(T.jsx)(x.a,{id:"router-web",children:Object(T.jsxs)(y.d,{children:[Object(T.jsx)(y.b,{path:"/",exact:!0,render:function(e){return Object(T.jsx)(F,Object(l.a)({},e))}}),Object(T.jsx)(y.b,{path:"/login",exact:!0,render:function(e){return Object(T.jsx)(P,Object(l.a)({},e))}})]})})}}]),n}(r.PureComponent),R=Object(i.b)((function(e){return e}),(function(e){return{setToken:function(t){return e((function(e,n){e(function(e){return{type:d,payload:e}}(t))}))}}}))(D);a.a.render(Object(T.jsx)(o.a.StrictMode,{children:Object(T.jsx)(i.a,{store:f,children:Object(T.jsx)(R,{})})}),document.getElementById("root")),s()}},[[47,1,2]]]);
//# sourceMappingURL=main.cd71c52e.chunk.js.map
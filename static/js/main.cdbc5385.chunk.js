(this["webpackJsonpspotify-app"]=this["webpackJsonpspotify-app"]||[]).push([[0],{50:function(e,t,n){},56:function(e,t,n){},59:function(e,t,n){},60:function(e,t,n){},61:function(e,t,n){},62:function(e,t,n){},63:function(e,t,n){},64:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){},67:function(e,t,n){},68:function(e,t,n){},69:function(e,t,n){},70:function(e,t,n){"use strict";n.r(t);var r=n(0),s=n.n(r),c=n(20),a=n.n(c),o=(n(49),n(50),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,76)).then((function(t){var n=t.getCLS,r=t.getFID,s=t.getFCP,c=t.getLCP,a=t.getTTFB;n(e),r(e),s(e),c(e),a(e)}))}),i=n(7),u=n(21),l=n(6),p="SPOTIFY_TOKEN",j="URL_CODE",h="REFRESH_TOKEN",d="PLAYLIST",b="SET_USERLIST",f="LOGGED_USER",O="SIDEBAR",x=n(41),y=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||u.d,m=Object(u.c)({spotify:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{token:null,refresh_token:null,code:null,player:{id:null,type:null}},t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case p:return Object(l.a)(Object(l.a)({},e),{},{token:r.token,refresh_token:r.refresh_token});case j:return Object(l.a)(Object(l.a)({},e),{},{code:r});case h:return Object(l.a)(Object(l.a)({},e),{},{token:r});case d:return Object(l.a)(Object(l.a)({},e),{},{player:{id:r.id,type:r.playerType}});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{userList:[],loggedUser:null},t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case b:return Object(l.a)(Object(l.a)({},e),{},{userList:r});case f:return Object(l.a)(Object(l.a)({},e),{},{loggedUser:r});default:return e}},sideBar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{toggle:!0},t=arguments.length>1?arguments[1]:void 0,n=t.type;t.payload;switch(n){case O:return Object(l.a)(Object(l.a)({},e),{},{toggle:!e.toggle});default:return e}}}),v=Object(u.e)(m,y(Object(u.a)(x.a))),g=n(2),w=n.n(g),k=n(5),S=n(9),C=n(10),T=n(12),N=n(11),F=n(15),P=n(8),L="6cee7a5f42ec413c8af5c31b8038445e",_="Basic "+btoa("".concat(L,":").concat("4f9d04fc510e49c5b228e904da1adfd1")),E="https://accounts.spotify.com/api/token",D="https://reniejr.github.io/StriviFy/",U="".concat("https://accounts.spotify.com/authorize","?client_id=").concat(L,"&response_type=code&redirect_uri=").concat(encodeURIComponent(D),"&scope=").concat("user-read-private%20user-read-email%20user-top-read","&state=34fFs29kd09"),I="https://api.spotify.com/v1/browse/categories/",A="https://api.spotify.com/v1/browse/",B=function(){var e=Object(k.a)(w.a.mark((function e(t){var n,r;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(E,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:_},body:"grant_type=refresh_token&refresh_token=".concat(t)});case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r.access_token);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(k.a)(w.a.mark((function e(t){var n,r;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(E,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:_},body:"grant_type=authorization_code&code=".concat(t,"&redirect_uri=").concat(encodeURIComponent(D))});case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),K=function(){var e=Object(k.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.location.href=U;case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=function(){return new URLSearchParams(document.location.search.substring(1)).get("code")},M=function(){var e=Object(k.a)(w.a.mark((function e(t,n){var r,s;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://api.spotify.com/v1/playlists/").concat(n),{headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Bearer ".concat(t)}});case 2:return r=e.sent,e.next=5,r.json();case 5:return s=e.sent,e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),X=function(){var e=Object(k.a)(w.a.mark((function e(t,n){var r,s;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://api.spotify.com/v1/search?q=").concat(n.query,"&type=").concat(n.type,"&limit=").concat(n.limit),{headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Bearer ".concat(t)}});case 2:return r=e.sent,e.next=5,r.json();case 5:return s=e.sent,e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),z=function(){var e=Object(k.a)(w.a.mark((function e(t,n,r){var s,c,a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=n?r?"".concat(I).concat(n,"/playlists?country=IT&limit=").concat(r):"".concat(I).concat(n,"/playlists?country=IT"):r?"".concat(I,"?country=IT&limit=").concat(r):I,e.next=3,fetch("".concat(s,"&offset=0"),{headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Bearer ".concat(t)}});case 3:return c=e.sent,e.next=6,c.json();case 6:return a=e.sent,e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),Z=function(){var e=Object(k.a)(w.a.mark((function e(t,n){var r,s,c;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n?"".concat(A,"new-releases?country=IT&limit=").concat(n):"".concat(A,"new-releases?country=IT"),e.next=3,fetch("".concat(r,"&offset=0"),{headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Bearer ".concat(t)}});case 3:return s=e.sent,e.next=6,s.json();case 6:return c=e.sent,e.abrupt("return",c);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),q=function(e){return{type:j,payload:e}},G=function(e){return{type:p,payload:e}},Q=function(e){return{type:d,payload:e}},V=(n(56),n(1)),J=function(e){Object(T.a)(n,e);var t=Object(N.a)(n);function n(){var e;Object(S.a)(this,n);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).selected=function(t){return e.props.location.pathname===t?{width:"100%",visibility:"visible"}:{}},e}return Object(C.a)(n,[{key:"render",value:function(){return Object(V.jsxs)("ul",{id:"topBar",children:[Object(V.jsxs)("li",{children:[Object(V.jsx)(F.b,{to:"/home",children:"Trending"}),Object(V.jsx)("span",{style:this.selected("/home")})]}),Object(V.jsxs)("li",{children:[Object(V.jsx)(F.b,{to:"/home/podcast",children:"Podcast"}),Object(V.jsx)("span",{style:this.selected("/home/podcast")})]}),Object(V.jsxs)("li",{children:[Object(V.jsx)(F.b,{to:"/home/moods",children:"Moods And Genres"}),Object(V.jsx)("span",{style:this.selected("/home/moods")})]}),Object(V.jsxs)("li",{children:[Object(V.jsx)(F.b,{to:"/home/new-releases",children:"New Releases"}),Object(V.jsx)("span",{style:this.selected("/home/new-releases")})]}),Object(V.jsxs)("li",{children:[Object(V.jsx)(F.b,{to:"/home/discover",children:"Discover"}),Object(V.jsx)("span",{style:this.selected("/home/discover")})]})]})}}]),n}(r.PureComponent),Y=Object(P.g)(J),W=function(){var e=Object(k.a)(w.a.mark((function e(){var t,n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("refresh_token"),e.next=3,B(t);case 3:return n=e.sent,e.next=6,v.dispatch({type:h,payload:n});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$=function(){var e=Object(k.a)(w.a.mark((function e(t){var n,r;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=v.getState().spotify,e.next=3,X(n.token,t);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ee=function(){var e=Object(k.a)(w.a.mark((function e(t){var n,r;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=v.getState().spotify,e.next=3,M(n.token,t);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),te=function(){var e=Object(k.a)(w.a.mark((function e(t,n){var r,s;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=v.getState().spotify,e.next=3,z(r.token,t,n);case 3:return s=e.sent,e.abrupt("return",s);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ne=function(){var e=Object(k.a)(w.a.mark((function e(t){var n,r;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=v.getState().spotify,e.next=3,Z(n.token,t);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),re=function(){var e=Object(k.a)(w.a.mark((function e(t){var n,r,s;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t?"".concat("https://server-strivify.herokuapp.com","/strivify/user?").concat(t):"".concat("https://server-strivify.herokuapp.com","/strivify/user"),e.next=3,fetch(n);case 3:return r=e.sent,e.next=6,r.json();case 6:return s=e.sent,e.abrupt("return",s);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),se=function(){var e=Object(k.a)(w.a.mark((function e(t){var n,r,s;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat("https://server-strivify.herokuapp.com","/strivify/user"),e.next=3,fetch(n,{method:"POST",body:JSON.stringify(t),headers:new Headers({"Content-Type":"application/json"})});case 3:return r=e.sent,e.next=6,r.json();case 6:return s=e.sent,e.abrupt("return",s);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();n(59);function ce(e){var t=e.result,n=e.artist,s=e.type,c=(Object(i.d)((function(e){return e})),Object(i.c)()),a=Object(r.useCallback)((function(e){c(Q(e))}));return Object(V.jsx)("div",{className:"strivify-card",style:{backgroundImage:"url(".concat(t.images[0].url,")"),marginBottom:n?"3.5rem":"2.5rem"},onClick:function(){return a({id:t.id,playerType:s})},children:Object(V.jsxs)("div",{className:"strivify-card-header",style:{bottom:n?"-2.75rem":"-1.75rem"},children:[Object(V.jsx)("p",{children:t.name?t.name:""}),n?Object(V.jsx)("p",{children:n}):""]})})}n(60);var ae=n(72),oe=function(e){Object(T.a)(n,e);var t=Object(N.a)(n);function n(){var e;Object(S.a)(this,n);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={topHits:[],top50:[]},e.browseFetch=Object(k.a)(w.a.mark((function t(){var n,r;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.props.spotify.token){t.next=7;break}return t.next=3,te("toplists",5);case 3:n=t.sent,e.setState({topHits:n.playlists.items}),t.next=13;break;case 7:return t.next=9,W();case 9:return t.next=11,te("toplists",5);case 11:r=t.sent,e.setState({topHits:r.playlists.items});case 13:case"end":return t.stop()}}),t)}))),e.searchFetch=Object(k.a)(w.a.mark((function t(){var n,r;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.props.spotify.token){t.next=7;break}return t.next=3,$({query:"top 50",type:"playlist",limit:2});case 3:n=t.sent,e.setState({top50:n.playlists.items}),t.next=13;break;case 7:return t.next=9,W();case 9:return t.next=11,$({query:"top 50",type:"playlist",limit:2});case 11:r=t.sent,e.setState({top50:r.playlists.items});case 13:case"end":return t.stop()}}),t)}))),e.componentDidMount=Object(k.a)(w.a.mark((function t(){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return document.title="Strivify | Trending",t.next=3,e.browseFetch();case 3:return t.next=5,e.searchFetch();case 5:case"end":return t.stop()}}),t)}))),e}return Object(C.a)(n,[{key:"render",value:function(){return Object(V.jsxs)("div",{id:"trending",children:[Object(V.jsxs)("div",{className:"top-hits",children:[Object(V.jsx)("h2",{children:"Top Hits"}),Object(V.jsx)(ae.a,{children:this.state.topHits.length>0?this.state.topHits.map((function(e){return Object(V.jsx)(ce,{type:"playlist",result:e},e.id)})):Object(V.jsx)("p",{})})]}),Object(V.jsxs)("div",{className:"top-50",children:[Object(V.jsx)("h2",{children:"Top 50"}),Object(V.jsx)(ae.a,{children:this.state.top50.length>0?this.state.top50.map((function(e){return Object(V.jsx)(ce,{type:"playlist",result:e},e.id)})):Object(V.jsx)("p",{})})]})]})}}]),n}(r.PureComponent),ie=Object(i.b)((function(e){return e}),(function(e){return{setPlaylist:function(t){return e(Q(t))}}}))(oe);n(61);function ue(){return Object(V.jsxs)("div",{id:"podcast",children:[Object(V.jsx)("i",{className:"fas fa-satellite-dish"}),Object(V.jsx)("h2",{children:"Follow your first podcast"}),Object(V.jsx)("p",{children:"Follow your favourite podcast, clicking on the button"}),Object(V.jsx)("p",{children:"[Unfortunately, this feature is not available.]"}),Object(V.jsx)("button",{children:"Find Podcast"})]})}var le=n(26);n(62);function pe(){var e=Object(r.useState)([]),t=Object(le.a)(e,2),n=t[0],s=t[1],c=Object(r.useState)([]),a=Object(le.a)(c,2),o=a[0],u=a[1],l=Object(i.d)((function(e){return e})),p=["37i9dQZF1DXdHKb3VkLtuj","37i9dQZF1DX6e7ijUUjT0E","37i9dQZF1DXaXB8fQg7xif","37i9dQZF1DWTKktnMCmHx1","37i9dQZF1DXc0aozDLZsk7"],j=["2f4SnTZElqO1V6RqpdsiuW","0AoFXPuDaPw0JFsX8T3ZgE","37i9dQZF1DX92MLsP3K1fI","1kMyrcNKPws587cSAOjyDP","0bSKISIIcNQMc1EVaYVNul"],h=function(){var e=Object(k.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],Promise.all(p.map(function(){var e=Object(k.a)(w.a.mark((function e(n){var r,s;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===l.spotify.token&&null===l.spotify.token){e.next=8;break}return e.next=3,ee(n);case 3:r=e.sent,console.log(r),t.push(r),e.next=14;break;case 8:return W(),e.next=11,ee(n);case 11:s=e.sent,console.log(s),t.push(s);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),e.next=4,s(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=function(){var e=Object(k.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],Promise.all(j.map(function(){var e=Object(k.a)(w.a.mark((function e(n){var r,s;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===l.spotify.token&&null===l.spotify.token){e.next=8;break}return e.next=3,ee(n);case 3:r=e.sent,console.log(r),t.push(r),e.next=14;break;case 8:return W(),e.next=11,ee(n);case 11:s=e.sent,console.log(s),t.push(s);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),e.next=4,u(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){h(),d()}),[]),Object(r.useEffect)((function(){W()}),[l]),Object(V.jsxs)("div",{id:"moods-genres",children:[Object(V.jsxs)("div",{className:"moods",children:[Object(V.jsx)("h2",{children:"Follow your moods"}),Object(V.jsx)(ae.a,{children:n.map((function(e){return Object(V.jsx)(ce,{type:"playlist",result:e},e.id)}))})]}),Object(V.jsxs)("div",{className:"genres",children:[Object(V.jsx)("h2",{children:"Best Genres"}),Object(V.jsx)(ae.a,{children:o.map((function(e){return Object(V.jsx)(ce,{type:"playlist",result:e},e.id)}))})]})]})}n(63);function je(){var e=Object(r.useState)([]),t=Object(le.a)(e,2),n=t[0],s=t[1],c=Object(i.d)((function(e){return e})),a=function(){var e=Object(k.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===c.spotify.token&&null===c.spotify.token){e.next=7;break}return e.next=3,ne(10);case 3:t=e.sent,console.log(t),e.next=12;break;case 7:return W(),e.next=10,ne(10);case 10:t=e.sent,console.log(t);case 12:s(t.albums.items);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){a()}),[]),Object(r.useEffect)((function(){W()}),[c]),Object(V.jsxs)("div",{id:"new-releases",children:[Object(V.jsx)("h2",{children:"New Releases"}),Object(V.jsx)(ae.a,{children:n.map((function(e){return Object(V.jsx)(ce,{type:"album",result:e,artist:e.artists[0].name},e.id)}))})]})}n(64);var he=function(e){Object(T.a)(n,e);var t=Object(N.a)(n);function n(){return Object(S.a)(this,n),t.apply(this,arguments)}return Object(C.a)(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return Object(V.jsx)("div",{id:"home-page",style:{paddingLeft:this.props.sideBar.toggle?"250px":""},children:Object(V.jsxs)(F.a,{children:[Object(V.jsx)(Y,{}),Object(V.jsxs)(P.d,{children:[Object(V.jsx)(P.b,{path:"/home",exact:!0,render:function(e){return Object(V.jsx)(ie,Object(l.a)({},e))}}),Object(V.jsx)(P.b,{path:"/home/podcast",exact:!0,render:function(e){return Object(V.jsx)(ue,Object(l.a)({},e))}}),Object(V.jsx)(P.b,{path:"/home/moods",exact:!0,render:function(e){return Object(V.jsx)(pe,Object(l.a)({},e))}}),Object(V.jsx)(P.b,{path:"/home/new-releases",exact:!0,render:function(e){return Object(V.jsx)(je,Object(l.a)({},e))}})]})]})})}}]),n}(r.PureComponent),de=Object(i.b)((function(e){return e}),(function(e){return{setToken:function(t){return e(G(t))}}}))(he),be=n(73),fe=n(74),Oe=(n(65),n(75)),xe=(n(66),function(e){Object(T.a)(n,e);var t=Object(N.a)(n);function n(){return Object(S.a)(this,n),t.apply(this,arguments)}return Object(C.a)(n,[{key:"render",value:function(){var e=this.props,t=e.toastState,n=e.close;return Object(V.jsxs)(Oe.a,{style:{opacity:t?"1":"0"},children:[Object(V.jsxs)(Oe.a.Header,{children:[Object(V.jsx)("img",{src:"https://i.ibb.co/c8rjG5S/spotify.png",className:"rounded mr-2",alt:"",width:"20px",height:"20px"}),Object(V.jsx)("strong",{className:"mr-auto",children:"Strivify"}),Object(V.jsx)("button",{onClick:n,children:"x"})]}),Object(V.jsx)(Oe.a.Body,{children:this.props.children})]})}}]),n}(r.PureComponent)),ye=function(e){Object(T.a)(n,e);var t=Object(N.a)(n);function n(){return Object(S.a)(this,n),t.apply(this,arguments)}return Object(C.a)(n,[{key:"render",value:function(){var e=this.props,t=e.toggleState,n=e.toggleAction;return Object(V.jsx)("div",{className:"toggle-btn",style:{backgroundColor:t?"white":"#0d0d0d"},children:Object(V.jsx)("div",{className:"toggle",onClick:n,style:t?{backgroundColor:"#0d0d0d",marginLeft:"50%"}:{backgroundColor:"white",marginLeft:""}})})}}]),n}(s.a.PureComponent),me=function(e){Object(T.a)(n,e);var t=Object(N.a)(n);function n(){return Object(S.a)(this,n),t.apply(this,arguments)}return Object(C.a)(n,[{key:"render",value:function(){return Object(V.jsx)("div",{className:"logo",children:Object(V.jsx)("img",{src:"https://i.ibb.co/c8rjG5S/spotify.png",alt:""})})}}]),n}(s.a.PureComponent),ve=function(e){Object(T.a)(n,e);var t=Object(N.a)(n);function n(){return Object(S.a)(this,n),t.apply(this,arguments)}return Object(C.a)(n,[{key:"render",value:function(){var e=this.props,t=e.type,n=e.search,r=e.start,s=e.show,c=e.showFilter;return Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)("span",{className:"show-filters",onClick:s,children:"Show filters"}),Object(V.jsxs)("div",{className:"filters",style:{display:c?"":"none"},children:[Object(V.jsxs)("div",{children:[Object(V.jsx)("input",{type:"checkbox",id:"artist",onChange:t,onKeyDown:n,checked:"artist"===r})," ",Object(V.jsx)("label",{htmlFor:"artist",children:"Artist"}),Object(V.jsx)("input",{type:"checkbox",id:"album",onChange:t,onKeyDown:n})," ",Object(V.jsx)("label",{htmlFor:"album",children:"Album"})]}),Object(V.jsxs)("div",{children:[Object(V.jsx)("input",{type:"checkbox",id:"track",onChange:t,onKeyDown:n})," ",Object(V.jsx)("label",{htmlFor:"track",children:"Track"}),Object(V.jsx)("input",{type:"checkbox",id:"playlist",onChange:t,onKeyDown:n})," ",Object(V.jsx)("label",{htmlFor:"playlist",children:"Playlist"})]})]})]})}}]),n}(s.a.PureComponent),ge=function(e){Object(T.a)(n,e);var t=Object(N.a)(n);function n(){var e;Object(S.a)(this,n);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={user:{userName:null,password:null,email:null},toggle:!1,toastState:!1,redirect:!1,registered:!0,alert:!1},e.toggle=Object(k.a)(w.a.mark((function t(){var n,r;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.state.user.email){t.next=12;break}if(n=!e.state.toggle,e.setState({toggle:!e.state.toggle}),!n){t.next=10;break}return t.next=6,se(e.state.user);case 6:return t.next=8,re();case 8:r=t.sent,e.props.setUserList(r);case 10:t.next=14;break;case 12:e.setState({alert:!0}),setTimeout((function(){e.setState({alert:!1})}),1500);case 14:case"end":return t.stop()}}),t)}))),e.fillLogin=function(t){if(13===t.keyCode||"Enter"===t.key)e.login();else{var n=Object(l.a)({},e.state.user);n[t.currentTarget.id]=t.currentTarget.value,e.setState({user:n}),e.state.user.password?e.setState({toastState:!0}):e.setState({toastState:!1})}},e.login=Object(k.a)(w.a.mark((function t(){var n;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!((n=e.props.user.userList.filter((function(t){return t.userName===e.state.user.userName&&t.password===e.state.user.password}))).length>0)){t.next=7;break}return e.props.loggedUser(n[0]),t.next=5,e.setState({redirect:!0});case 5:t.next=9;break;case 7:e.setState({alert:!0}),setTimeout((function(){e.setState({alert:!1})}),1500);case 9:case"end":return t.stop()}}),t)}))),e.componentDidMount=Object(k.a)(w.a.mark((function t(){var n;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,re();case 2:n=t.sent,e.props.setUserList(n);case 4:case"end":return t.stop()}}),t)}))),e}return Object(C.a)(n,[{key:"render",value:function(){var e=this;return this.state.redirect?Object(V.jsx)(P.a,{to:"/home"}):Object(V.jsx)("div",{id:"login-page",children:this.props.start?Object(V.jsx)(me,{}):Object(V.jsxs)(be.a,{children:[Object(V.jsx)(fe.a,{variant:"danger",style:{display:this.state.alert?"":"none"},children:"Oops! Something went wrong! Check your credentials"}),Object(V.jsxs)("header",{children:[Object(V.jsx)("img",{src:"https://i.ibb.co/c8rjG5S/spotify.png",alt:""}),Object(V.jsx)("span",{children:"Strivify"})]}),Object(V.jsx)("button",{id:"login-fb",children:"Log in with Facebook"}),Object(V.jsx)("div",{className:"separator",children:"Or"}),Object(V.jsx)("input",{type:"text",id:"userName",placeholder:"Username",onChange:this.fillLogin}),Object(V.jsx)("input",{type:"password",id:"password",placeholder:"Password",onChange:this.fillLogin,onKeyDown:this.fillLogin}),Object(V.jsx)("p",{onClick:function(){return e.setState({registered:!e.state.registered})},children:"Not Register to Strivify yet?"}),Object(V.jsx)("input",{type:"email",id:"email",placeholder:"Email",onChange:this.fillLogin,style:{display:this.state.registered?"none":""}}),Object(V.jsxs)("div",{className:"remember",children:[Object(V.jsx)("span",{children:"Remember me"}),Object(V.jsx)(xe,{toastState:this.state.toastState,close:function(){return e.setState({toastState:!1})},children:"Click here to create an account on our database"}),Object(V.jsx)(ye,{toggleState:this.state.toggle,toggleAction:this.toggle})]}),Object(V.jsx)("button",{id:"login",onClick:function(){return e.login()},children:"Log In"})]})})}}]),n}(r.PureComponent),we=Object(i.b)((function(e){return e}),(function(e){return{setToken:function(t){return e((function(e,n){e(G(t))}))},setCode:function(t){return e(q(t))},setUserList:function(t){return e(function(e){return{type:b,payload:e}}(t))},loggedUser:function(t){return e(function(e){return{type:f,payload:e}}(t))}}}))(ge),ke=n(32),Se=(n(67),function(e){Object(T.a)(n,e);var t=Object(N.a)(n);function n(){var e;Object(S.a)(this,n);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={showPlaylist:!1,search:{query:"",type:["artist"]},startCheck:!0,showFilter:!1},e.showPlaylist=function(){e.setState({showPlaylist:!e.state.showPlaylist})},e.search=function(){var t=Object(k.a)(w.a.mark((function t(n){var r;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:13===n.keyCode||"Enter"===n.key?e.state.search.type.length>0&&$(e.state.search):(r=n.currentTarget.value,e.setState({search:{query:r,type:Object(ke.a)(e.state.search.type)}}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.type=function(t){var n=Object(ke.a)(e.state.search.type),r=t.currentTarget.id;n=t.currentTarget.checked?[].concat(Object(ke.a)(e.state.search.type),[r]):n.filter((function(e){return e!==r})),console.log(n),e.setState({search:Object(l.a)(Object(l.a)({},e.state.search),{},{type:n})})},e.showFilter=function(){e.setState({showFilter:!e.state.showFilter})},e}return Object(C.a)(n,[{key:"render",value:function(){var e=this;return Object(V.jsxs)("nav",{id:"sidebar",style:{marginLeft:this.props.sideBar.toggle?"":"-250px",display:"/"===this.props.location.pathname?"none":""},children:[Object(V.jsx)("div",{className:"toggle",onClick:function(){return e.props.toggleSide()}}),Object(V.jsxs)("div",{className:"logo-sidebar",children:[Object(V.jsx)("img",{src:"https://i.ibb.co/c8rjG5S/spotify.png",alt:""}),Object(V.jsx)("span",{children:"Strivify"})]}),Object(V.jsx)("input",{type:"text",placeholder:"Search",onChange:this.search,onKeyDown:this.search}),Object(V.jsx)(ve,{type:this.type,search:this.search,start:this.state.search.type[0],show:this.showFilter,showFilter:this.state.showFilter}),Object(V.jsxs)("div",{className:"menu",children:[Object(V.jsxs)("ul",{children:[Object(V.jsx)("li",{children:Object(V.jsxs)(F.b,{to:"/home",children:[Object(V.jsx)("i",{className:"fas fa-home"}),Object(V.jsx)("span",{children:"Home"})]})}),Object(V.jsx)("li",{children:Object(V.jsxs)(F.b,{to:"/library",children:[Object(V.jsx)("ion-icon",{name:"library-outline"}),Object(V.jsx)("span",{children:"Library"})]})}),Object(V.jsxs)("li",{onClick:function(){return e.showPlaylist()},children:[Object(V.jsx)("i",{className:"fas fa-plus-circle"}),Object(V.jsx)("span",{children:"Create Playlist"})]}),Object(V.jsx)("div",{id:"create-playlist",style:{display:this.state.showPlaylist?"":"none"},children:Object(V.jsx)("input",{type:"text",placeholder:"Name"})}),Object(V.jsxs)("li",{children:[Object(V.jsx)("i",{className:"fas fa-heart"}),Object(V.jsx)("span",{children:"Favourites"})]})]}),Object(V.jsxs)("div",{className:"install",children:[Object(V.jsx)("i",{className:"fas fa-arrow-alt-circle-down"}),Object(V.jsx)("span",{children:"Install"}),Object(V.jsx)("hr",{})]})]}),Object(V.jsxs)("div",{className:"login",children:[Object(V.jsxs)("div",{className:"user",children:[Object(V.jsx)("img",{src:this.props.loggedUser&&this.props.user.loggedUser.profile?this.props.user.loggedUser.profile:"",alt:""}),Object(V.jsx)("p",{children:this.props.user.loggedUser?this.props.user.loggedUser.userName:""})]}),Object(V.jsx)("button",{children:Object(V.jsx)(F.b,{to:"/",children:this.props.user.loggedUser?"Log out":"Log in"})})]})]})}}]),n}(r.PureComponent)),Ce=Object(P.g)(Object(i.b)((function(e){return e}),(function(e){return{setRefreshToken:function(t){return e(function(e){return{type:h,payload:e}}(t))},toggleSide:function(){return e({type:O})}}}))(Se)),Te=(n(68),function(e){Object(T.a)(n,e);var t=Object(N.a)(n);function n(){var e;Object(S.a)(this,n);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={},e}return Object(C.a)(n,[{key:"render",value:function(){return Object(V.jsx)("div",{className:"player-container",children:Object(V.jsx)("iframe",{ref:this.viewFrame,name:"player",id:"player",title:"player",src:"https://open.spotify.com/embed/".concat(this.props.player.type,"/").concat(this.props.player.id?this.props.player.id:""),frameborder:"0",allowtransparency:"true",allow:"encrypted-media",style:{display:"/"===this.props.location.pathname?"none":""}})})}}]),n}(r.PureComponent)),Ne=Object(P.g)(Object(i.b)((function(e){return e.spotify}))(Te)),Fe=(n(69),function(e){Object(T.a)(n,e);var t=Object(N.a)(n);function n(){var e;Object(S.a)(this,n);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={start:!0},e.componentDidMount=Object(k.a)(w.a.mark((function t(){var n,r;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=H(),e.props.setCode(n),!n){t.next=15;break}return e.setState({start:!1}),t.next=6,R(n);case 6:return r=t.sent,console.log(r.refresh_token),t.next=10,{token:r.access_token,refresh_token:r.refresh_token};case 10:r=t.sent,localStorage.setItem("refresh_token",r.refresh_token),e.props.setToken(r),t.next=16;break;case 15:setTimeout((function(){e.setState({start:!1}),K()}),1800);case 16:case"end":return t.stop()}}),t)}))),e}return Object(C.a)(n,[{key:"render",value:function(){var e=this;return Object(V.jsxs)(F.a,{id:"router-web",children:[Object(V.jsx)(Ce,{}),Object(V.jsx)(Ne,{}),Object(V.jsxs)(P.d,{children:[Object(V.jsx)(P.b,{path:"/",exact:!0,render:function(t){return Object(V.jsx)(we,Object(l.a)(Object(l.a)({},t),{},{start:e.state.start}))}}),Object(V.jsx)(P.b,{path:"/home",render:function(e){return Object(V.jsx)(de,Object(l.a)({},e))}})]})]})}}]),n}(r.PureComponent)),Pe=Object(i.b)((function(e){return e}),(function(e){return{setCode:function(t){return e(q(t))},setToken:function(t){return e(G(t))}}}))(Fe);a.a.render(Object(V.jsx)(s.a.StrictMode,{children:Object(V.jsx)(i.a,{store:v,children:Object(V.jsx)(Pe,{})})}),document.getElementById("root")),o()}},[[70,1,2]]]);
//# sourceMappingURL=main.cdbc5385.chunk.js.map